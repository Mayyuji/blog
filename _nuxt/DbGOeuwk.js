const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BHqqvBd2.js","./DEdT8XY-.js"])))=>i.map(i=>d[i]);
import{e as R,f as M,g as D,h as Q,i as H,r as G,s as $,j as z,n as Y,k as Z,l as V,m as X,p as J,q as K,v as A,x as k,y as ee,z as te,A as ae,B as ne,C as se,D as re,c as E,d as ie,F as ce,E as oe,o as N,a as T,t as O}from"./DEdT8XY-.js";const ue={trailing:!0};function le(e,t=25,r={}){if(r={...ue,...r},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let i,s,a=[],n,l;const u=(y,o)=>(n=de(e,y,o),n.finally(()=>{if(n=null,r.trailing&&l&&!s){const g=u(y,l);return l=null,g}}),n);return function(...y){return n?(r.trailing&&(l=y),n):new Promise(o=>{const g=!s&&r.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const f=r.leading?i:u(this,y);for(const m of a)m(f);a=[]},t),g?(i=u(this,y),o(i)):a.push(o)})}}async function de(e,t,r){return await e.apply(t,r)}const fe=e=>e==="defer"||e===!1;function _e(...e){var m;const t=typeof e[e.length-1]=="string"?e.pop():void 0;he(e[0],e[1])&&e.unshift(t);let[r,i,s={}]=e;const a=R(()=>J(r));if(typeof a.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=M();s.server??(s.server=!0),s.default??(s.default=me),s.getCachedData??(s.getCachedData=q),s.lazy??(s.lazy=!1),s.immediate??(s.immediate=!0),s.deep??(s.deep=D.deep),s.dedupe??(s.dedupe="cancel"),s._functionName,n._asyncData[a.value];const l={cause:"initial",dedupe:s.dedupe};(m=n._asyncData[a.value])!=null&&m._init||(l.cachedData=s.getCachedData(a.value,n,{cause:"initial"}),n._asyncData[a.value]=B(n,a.value,i,s,l.cachedData));const u=n._asyncData[a.value];u._deps++;const y=()=>n._asyncData[a.value].execute(l),o=s.server!==!1&&n.payload.serverRendered;{let c=function(h){const _=n._asyncData[h];_!=null&&_._deps&&(_._deps--,_._deps===0&&(_==null||_._off()))};const d=K();if(d&&o&&s.immediate&&!d.sp&&(d.sp=[]),d&&!d._nuxtOnBeforeMountCbs){d._nuxtOnBeforeMountCbs=[];const h=d._nuxtOnBeforeMountCbs;A(()=>{h.forEach(_=>{_()}),h.splice(0,h.length)}),k(()=>h.splice(0,h.length))}const w=d&&(d._nuxtClientOnly||ee(te,!1));o&&n.isHydrating&&(u.error.value||u.data.value!=null)?(u.pending.value=!1,u.status.value=u.error.value?"error":"success"):d&&(!w&&n.payload.serverRendered&&n.isHydrating||s.lazy)&&s.immediate?d._nuxtOnBeforeMountCbs.push(y):s.immediate&&y();const F=X(),L=Q([a,...s.watch||[]],([h],[_])=>{var P,j;if((h||_)&&h!==_){const U=((P=n._asyncData[_])==null?void 0:P.data.value)!==D.value,W=n._asyncDataPromises[_]!==void 0;_&&c(_);const S={cause:"initial",dedupe:s.dedupe};(j=n._asyncData[h])!=null&&j._init||(S.cachedData=s.getCachedData(h,n,{cause:"initial"}),n._asyncData[h]=B(n,h,i,s,S.cachedData)),n._asyncData[h]._deps++,(s.immediate||U||W)&&n._asyncData[h].execute(S)}else u._execute({cause:"watch",dedupe:s.dedupe})},{flush:"sync"});F&&H(()=>{L(),c(a.value)})}const g={data:b(()=>{var c;return(c=n._asyncData[a.value])==null?void 0:c.data}),pending:b(()=>{var c;return(c=n._asyncData[a.value])==null?void 0:c.pending}),status:b(()=>{var c;return(c=n._asyncData[a.value])==null?void 0:c.status}),error:b(()=>{var c;return(c=n._asyncData[a.value])==null?void 0:c.error}),refresh:(...c)=>n._asyncData[a.value].execute(...c),execute:(...c)=>n._asyncData[a.value].execute(...c),clear:()=>I(n,a.value)},f=Promise.resolve(n._asyncDataPromises[a.value]).then(()=>g);return Object.assign(f,g),f}function b(e){return R({get(){var t;return(t=e())==null?void 0:t.value},set(t){const r=e();r&&(r.value=t)}})}function he(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function I(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=D.errorValue),e._asyncData[t]&&(e._asyncData[t].data.value=void 0,e._asyncData[t].error.value=D.errorValue,e._asyncData[t].pending.value=!1,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function ye(e,t){const r={};for(const i of t)r[i]=e[i];return r}function B(e,t,r,i,s){var g;(g=e.payload._errors)[t]??(g[t]=D.errorValue);const a=i.getCachedData!==q,n=r,l=i.deep?G:$,u=s!=null,y=e.hook("app:data:refresh",async f=>{(!f||f.includes(t))&&await o.execute({cause:"refresh:hook"})}),o={data:l(u?s:i.default()),pending:$(!u),error:z(e.payload._errors,t),status:$("idle"),execute:(f={})=>{if(e._asyncDataPromises[t]){if(fe(f.dedupe??i.dedupe))return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}if(f.cause==="initial"||e.isHydrating){const c="cachedData"in f?f.cachedData:i.getCachedData(t,e,{cause:f.cause??"refresh:manual"});if(c!=null)return e.payload.data[t]=o.data.value=c,o.error.value=D.errorValue,o.status.value="success",Promise.resolve(c)}o.pending.value=!0,o.status.value="pending";const m=new Promise((c,d)=>{try{c(n(e))}catch(w){d(w)}}).then(async c=>{if(m.cancelled)return e._asyncDataPromises[t];let d=c;i.transform&&(d=await i.transform(c)),i.pick&&(d=ye(d,i.pick)),e.payload.data[t]=d,o.data.value=d,o.error.value=D.errorValue,o.status.value="success"}).catch(c=>{if(m.cancelled)return e._asyncDataPromises[t];o.error.value=Z(c),o.data.value=V(i.default()),o.status.value="error"}).finally(()=>{m.cancelled||(o.pending.value=!1,delete e._asyncDataPromises[t])});return e._asyncDataPromises[t]=m,e._asyncDataPromises[t]},_execute:le((...f)=>o.execute(...f),0,{leading:!0}),_default:i.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var f;y(),(f=e._asyncData[t])!=null&&f._init&&(e._asyncData[t]._init=!1),a||Y(()=>{var m;(m=e._asyncData[t])!=null&&m._init||(I(e,t),o.execute=()=>Promise.resolve(),o.data.value=D.value)})}};return o}const me=()=>D.value,q=(e,t,r)=>{if(t.isHydrating)return t.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return t.static.data[e]},x={content:"v3.5.0--Ga2hZUJHKViwMhs3CV6_NACQXKWn2op1ZwVgXKJI4IE",blog:"v3.5.0--mHfkXBONTgRZqVBTqGKcCV2ebS3WEPB1Rq9O3yZiSmg",xmind:"v3.5.0--bRrdF-YfJANp4GhVZzMDDFj0XeYpBj64TfQE-YxONbI"},ge={content:"_content_content",blog:"_content_blog",xmind:"_content_xmind",info:"_content_info"},$e={content:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},blog:{type:"page",fields:{id:"string",title:"string",body:"json",date:"date",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},xmind:{type:"page",fields:{id:"string",title:"string",body:"json",date:"date",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},info:{type:"data",fields:{}}},p=(e,t)=>{const r=e._conditions;return r.length>0?`(${r.join(` ${t} `)})`:""},C=e=>{const t=[],r={_conditions:t,where(i,s,a){let n;switch(s.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(a)){const l=a.map(u=>v(u)).join(", ");n=`"${String(i)}" ${s.toUpperCase()} (${l})`}else throw new TypeError(`Value for ${s} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(a)&&a.length===2)n=`"${String(i)}" ${s.toUpperCase()} ${v(a[0])} AND ${v(a[1])}`;else throw new Error(`Value for ${s} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":n=`"${String(i)}" ${s.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":n=`"${String(i)}" ${s.toUpperCase()} ${v(a)}`;break;default:n=`"${String(i)}" ${s} ${v(typeof a=="boolean"?Number(a):a)}`}return t.push(`${n}`),r},andWhere(i){const s=i(C());return t.push(p(s,"AND")),r},orWhere(i){const s=i(C());return t.push(p(s,"OR")),r}};return r},De=(e,t)=>{const r={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},i={__params:r,andWhere(a){const n=a(C());return r.conditions.push(p(n,"AND")),i},orWhere(a){const n=a(C());return r.conditions.push(p(n,"OR")),i},path(a){return i.where("path","=",ae(a))},skip(a){return r.offset=a,i},where(a,n,l){return i.andWhere(u=>u.where(String(a),n,l)),i},limit(a){return r.limit=a,i},select(...a){return a.length&&r.selectedFields.push(...a),i},order(a,n){return r.orderBy.push(`"${String(a)}" ${n}`),i},async all(){return t(e,s()).then(a=>a||[])},async first(){return t(e,s({limit:1})).then(a=>a[0]||null)},async count(a="*",n=!1){return t(e,s({count:{field:String(a),distinct:n}})).then(l=>l[0].count)}};function s(a={}){let n="SELECT ";if(a!=null&&a.count)n+=`COUNT(${a.count.distinct?"DISTINCT ":""}${a.count.field}) as count`;else{const u=Array.from(new Set(r.selectedFields));n+=u.length>0?u.map(y=>`"${String(y)}"`).join(", "):"*"}n+=` FROM ${ge[String(e)]}`,r.conditions.length>0&&(n+=` WHERE ${r.conditions.join(" AND ")}`),r.orderBy.length>0?n+=` ORDER BY ${r.orderBy.join(", ")}`:n+=" ORDER BY stem ASC";const l=(a==null?void 0:a.limit)||r.limit;return l>0&&(r.offset>0?n+=` LIMIT ${l} OFFSET ${r.offset}`:n+=` LIMIT ${l}`),n}return i};function v(e){return`'${String(e).replace(/'/g,"''")}'`}async function Ee(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:x[String(t)],t:void 0}})}async function ve(e,t,r){var i,s,a;return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...(a=(s=(i=e==null?void 0:e.node)==null?void 0:i.req)==null?void 0:s.headers)!=null&&a.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:x[String(t)],t:void 0},method:"POST",body:{sql:r}})}const be=e=>{var r,i;const t=(i=(r=ne())==null?void 0:r.ssrContext)==null?void 0:i.event;return De(e,(s,a)=>pe(t,s,a))};async function pe(e,t,r){return window.WebAssembly?Ce(t,r):ve(e,String(t),r)}async function Ce(e,t){return await se(()=>import("./BHqqvBd2.js"),__vite__mapDeps([0,1]),import.meta.url).then(i=>i.loadDatabaseAdapter(e)).then(i=>i.all(t))}const we={__name:"home",async setup(e){let t,r;const{data:i}=([t,r]=re(()=>_e("navigation",()=>be("content").order("date","DESC").limit(5).select("path","title","description","date").all())),t=await t,r(),t);return(s,a)=>(N(),E("div",null,[a[0]||(a[0]=ie(" ........网站搭建中 ")),(N(!0),E(ce,null,oe(V(i),n=>(N(),E("div",{key:n.path},[T("h2",null,O(n.title),1),T("p",null,O(n.description),1),T("p",null,O(n.date),1)]))),128))]))}},Ne=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{x as a,$e as c,Ee as f,Ne as h,ge as t};
